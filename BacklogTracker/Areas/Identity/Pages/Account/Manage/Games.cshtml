@page
@model GamesModel
@{
	ViewData["Title"] = "Games";
	ViewData["ActivePage"] = ManageNavPages.Games;

	var games = Model.Backlog?.Games;
	var user = Model.User.Identity;
}

<h3>@ViewData["Title"]</h3>
<div id="errorMessage"></div>


@section Scripts {
	<partial name="_ValidationScriptsPartial" />
}

<div>
	@if (games != null && games.Any())
	{

		<ul class="games-list">

			@foreach (var game in games)
			{
				<li>
					<button type="button" class="btn btn-danger" data-game-id="@game.Id" onclick="removeFromBacklog(this,'@user?.Name?.Trim()')" )>X</button>
					<a href="@game.SiteDetailUrl" target="_blank">@game.Name</a>
				</li>
			}
		</ul>

	}
	else
	{
		<p>It appears you haven't added any games to your backlog!</p>
	}
</div>